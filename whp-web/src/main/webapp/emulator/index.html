<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            var egUrl = $(location).attr('origin') + "/whp/provider/process";
            $('#egUrl').html(egUrl);
            $('#url').val(egUrl);
        })
    </script>
</head>
<body>
<span id="statusMessage" style="font-size: medium; font-weight: bold; color: blue;"></span>
<br/>
<br/>

<form name="testSubmit">
    <span style="vertical-align:top;margin-right:50px">Enter url:</span><input type="text" style="width:600" id="url"
                                                                               name="url"> </input>
    <br/>
    <span id="egUrl" style="margin-left:110px"></span>
    <br/>
    <br/>
    <span style="vertical-align:top">Enter caseXML:</span>
    <textarea id="data" rows="30" cols="80" style="vertical-align:top" name="data"><?xml version="1.0"?>
<Registration xmlns="http://openrosa.org/user/registration">
    <username/>
    <password/>
    <uuid/>
    <date>20/02/2012 10:10:15</date>
    <user_data>
        <data key="primary_mobile">9880123456</data>
        <data key="secondary_mobile">9880123457</data>
        <data key="tertiary_mobile">9880123458</data>
        <data key="provider_id">cha011</data>
        <data key="district">Muzaffarpur</data>
    </user_data>
</Registration>
    </textarea>
    <br/>
    <input type="button" id="submit" value="Submit"/>
    <script type="text/javascript">
        $('#submit').click(function () {
            var xml = $('#data').val();
            $.ajax({
                type:'POST',
                url: $("#url").val(),
                data: xml,
                dataType : 'xml',
                contentType: "application/xml; charset=utf-8",
                success:function() {
                    $('#statusMessage').html("Status of request: SUCCESS");
                },
                error: function(xhr, status, error) {
                    $('#statusMessage').html("Status of request: FAILURE. Reason: " + error);
                }
            })
        });
    </script>
</form>
</body>
</html>